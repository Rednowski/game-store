<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Moon Game Store</title>
    <link rel="stylesheet" href="/common.css">
    <link rel="stylesheet" href="/cart.css">
    <link rel="icon" href="/moon-logo-icon.png">
</head>
<body>
<div th:replace="~{fragments.html}"></div>
<div id="content">

    <div class="cart-row">
        <div>Title</div>
        <div>Publisher</div>
        <div>Price</div>
    </div>

    <div th:each="position : ${session.cart}" class="cart-row">
        <div th:text="${position.game.title}">Title</div>
        <div th:text="${position.game.publisher}">Publisher</div>
        <div th:text="${position.game.price} + '€'">Price</div>
    </div>


    <div class="games" th:each="game : ${games}">
        <div class="game">
            <div class="game-image"><img th:src="@{'/game-logos/' + ${game.picture}}" alt="Game Image"></div>
            <div class="game-details">
                <div class="title" th:text="${game.title}">Title</div>
                <div class="description" th:text="${game.description}">Description</div>
                <div class="tags" th:text="${game.tags}">Tags</div>
                <div class="price" th:text="${game.price} + ' €'">Price</div>
                <div class="actions">
                    <a th:href="@{/game/edit/{id}(id=${game.id})}" th:if="${session.user?.getRole() == T(pl.edu.wszib.game.store.model.User.Role).ADMIN}">Edit</a>
                    <a th:href="@{/cart/add/{id}(id=${game.id})}" th:if="${session.user != null}">Add to Cart</a>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
